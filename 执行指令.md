# ACGStation æ¸¸æˆæ–‡ä»¶åŒæ­¥å™¨ - æ‰§è¡ŒæŒ‡ä»¤

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºTauri + React + TypeScript + shadcn/ui æ„å»ºçš„æ¸¸æˆæ–‡ä»¶åŒæ­¥å™¨åº”ç”¨ç¨‹åºã€‚ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

- ğŸ® æ¸¸æˆæ–‡ä»¶å¯¼å‡ºç®¡ç†
- ğŸ“ æ–‡ä»¶å¤¹æµè§ˆå’Œé¢„è§ˆ
- âœ… å¤šé€‰æ–‡ä»¶/æ–‡ä»¶å¤¹åŠŸèƒ½
- ğŸ—œï¸ æ™ºèƒ½å‹ç¼©é€‰é¡¹ï¼ˆå¯é€‰æ‹©æ–‡ä»¶å¤¹æ˜¯å¦å‹ç¼©å¯¼å‡ºï¼‰
- ğŸ“¦ ç”ŸæˆåŒ…å«æ¸…å•çš„ZIPå¯¼å‡ºåŒ…
- ğŸ” æ–‡ä»¶SHA256å“ˆå¸Œè®¡ç®—
- ğŸ“‹ JSONæ¸…å•ç”Ÿæˆï¼ˆåŒ…å«æ–‡ä»¶ä¿¡æ¯ã€ä¸‹è½½é“¾æ¥ã€ç‰ˆæœ¬ç­‰ï¼‰

## ç³»ç»Ÿè¦æ±‚

- Node.js 16+
- Rust 1.70+
- Tauri CLI

## å®‰è£…å’Œè¿è¡ŒæŒ‡ä»¤

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# æˆ–è€…ä½¿ç”¨ yarn
yarn install
```

### 2. å®‰è£…Tauri CLIï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰

```bash
# é€šè¿‡ cargo å®‰è£…
cargo install tauri-cli

# æˆ–è€…é€šè¿‡ npm å®‰è£…
npm install -g @tauri-apps/cli
```

### 3. å¼€å‘æ¨¡å¼è¿è¡Œ

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run tauri dev

# æˆ–è€…
yarn tauri dev
```

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºåº”ç”¨ç¨‹åº
npm run tauri build

# æˆ–è€…
yarn tauri build
```

## é¡¹ç›®ç»“æ„

```
tauri-shadcn-vite-template/
â”œâ”€â”€ src/                          # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/              # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/                 # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar.tsx     # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ tabs.tsx        # æ ‡ç­¾é¡µç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx        # å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ checkbox.tsx    # å¤é€‰æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ...             # å…¶ä»–UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ export-tab.tsx      # å¯¼å‡ºåŠŸèƒ½é¡µé¢
â”‚   â”‚   â”œâ”€â”€ file-browser.tsx    # æ–‡ä»¶æµè§ˆå™¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ App.tsx                 # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.tsx                # å…¥å£æ–‡ä»¶
â”œâ”€â”€ src-tauri/                   # Tauriåç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ main.rs             # Rustä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ Cargo.toml              # Rustä¾èµ–é…ç½®
â”‚   â””â”€â”€ tauri.conf.json         # Taurié…ç½®
â””â”€â”€ package.json                # Node.jsä¾èµ–é…ç½®
```

## ä¸»è¦åŠŸèƒ½æ¨¡å—

### 1. æ–‡ä»¶æµè§ˆå™¨ (`src/components/file-browser.tsx`)
- æ–‡ä»¶å¤¹å’Œæ–‡ä»¶çš„å¯è§†åŒ–å±•ç¤º
- æ”¯æŒå¤šé€‰åŠŸèƒ½
- å‹ç¼©é€‰é¡¹UIï¼ˆé’ˆå¯¹æ–‡ä»¶å¤¹ï¼‰
- æ–‡ä»¶å¤§å°æ˜¾ç¤º

### 2. å¯¼å‡ºåŠŸèƒ½ (`src/components/export-tab.tsx`)
- æ–‡ä»¶å¤¹é€‰æ‹©å™¨ï¼ˆè°ƒç”¨ç³»ç»Ÿæ–‡ä»¶ç®¡ç†å™¨ï¼‰
- å¯¼å‡ºé…ç½®ç®¡ç†ï¼ˆåŒ…åã€ä¸‹è½½å‰ç¼€ã€ç‰ˆæœ¬ï¼‰
- æ‰¹é‡é€‰æ‹©å’Œæ¸…ç©ºåŠŸèƒ½
- å¯¼å‡ºè¿›åº¦ç®¡ç†

### 3. Ruståç«¯ (`src-tauri/src/main.rs`)
- æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆè¯»å–æ–‡ä»¶å¤¹å†…å®¹ï¼‰
- SHA256å“ˆå¸Œè®¡ç®—
- ZIPæ–‡ä»¶åˆ›å»ºå’Œå‹ç¼©
- JSONæ¸…å•ç”Ÿæˆ
- å¼‚æ­¥æ–‡ä»¶å¤„ç†

## é‡è¦çš„Tauriå‘½ä»¤

### `get_folder_contents`
è·å–æŒ‡å®šæ–‡ä»¶å¤¹çš„å†…å®¹åˆ—è¡¨

```rust
#[tauri::command]
async fn get_folder_contents(path: String) -> Result<Vec<FileItem>, String>
```

### `export_files`
å¯¼å‡ºé€‰ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹

```rust
#[tauri::command]
async fn export_files(files: Vec<FileItem>, settings: ExportSettings) -> Result<String, String>
```

## å¯¼å‡ºåŠŸèƒ½ç‰¹æ€§

### æ™ºèƒ½å‹ç¼©
- âœ… ç”¨æˆ·å¯é€‰æ‹©æ˜¯å¦å‹ç¼©æ–‡ä»¶å¤¹
- âœ… æ”¯æŒåµŒå¥—ZIPï¼ˆå‹ç¼©çš„æ–‡ä»¶å¤¹ä½œä¸ºZIPåµŒå…¥ä¸»ZIPï¼‰
- âœ… å‡è½»æœåŠ¡å™¨è§£å‹å‹åŠ›

### æ¸…å•ç”Ÿæˆ
å¯¼å‡ºçš„ZIPåŒ…å«`manifest.json`æ–‡ä»¶ï¼Œç»“æ„å¦‚ä¸‹ï¼š

```json
{
  "package_name": "æ¸¸æˆåŒ…å",
  "version": "1.0.0",
  "created_at": "2024-01-01T00:00:00Z",
  "files": [
    {
      "name": "æ–‡ä»¶å.txt",
      "download_url": "https://example.com/downloads/æ–‡ä»¶å.txt",
      "relative_path": "folder/æ–‡ä»¶å.txt",
      "hash": "sha256å“ˆå¸Œå€¼",
      "size": 1024
    }
  ]
}
```

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°çš„UIç»„ä»¶
æ‰€æœ‰UIç»„ä»¶åŸºäºshadcn/uiæ„å»ºï¼Œä½äº`src/components/ui/`ç›®å½•ã€‚

### ä¿®æ”¹Ruståç«¯
Rustä»£ç ä½äº`src-tauri/src/main.rs`ï¼Œä¿®æ”¹åéœ€è¦é‡æ–°ç¼–è¯‘ã€‚

### è°ƒè¯•æ¨¡å¼
å¼€å‘æ¨¡å¼ä¸‹ï¼ŒTauriä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘Rustä»£ç å’Œå‰ç«¯ä»£ç ã€‚

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Rustç¼–è¯‘å¤±è´¥**
   ```bash
   # æ›´æ–°Rustå·¥å…·é“¾
   rustup update
   
   # æ¸…ç†æ„å»ºç¼“å­˜
   cargo clean
   ```

2. **å‰ç«¯ä¾èµ–é—®é¢˜**
   ```bash
   # åˆ é™¤node_moduleså¹¶é‡æ–°å®‰è£…
   rm -rf node_modules
   npm install
   ```

3. **Tauriæƒé™é—®é¢˜**
   æ£€æŸ¥`src-tauri/tauri.conf.json`ä¸­çš„`allowlist`é…ç½®æ˜¯å¦æ­£ç¡®ã€‚

### æ—¥å¿—æŸ¥çœ‹
å¼€å‘æ¨¡å¼ä¸‹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·å’Œç»ˆç«¯ä¸­æŸ¥çœ‹æ—¥å¿—ã€‚

## åç»­å¼€å‘è®¡åˆ’

- [ ] æ·»åŠ ä¸‹è½½åŒæ­¥åŠŸèƒ½
- [ ] å®ç°æ–‡ä»¶å·®å¼‚æ£€æµ‹
- [ ] æ·»åŠ è¿›åº¦æ¡å’ŒçŠ¶æ€æŒ‡ç¤ºå™¨
- [ ] æ”¯æŒæ›´å¤šå‹ç¼©æ ¼å¼
- [ ] æ·»åŠ é…ç½®æ–‡ä»¶æŒä¹…åŒ–

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React 18 + TypeScript + Vite
- **UIæ¡†æ¶**: shadcn/ui + Tailwind CSS
- **æ¡Œé¢æ¡†æ¶**: Tauri
- **åç«¯**: Rust
- **ä¾èµ–ç®¡ç†**: npm/yarn + Cargo

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯å¼€æºã€‚
